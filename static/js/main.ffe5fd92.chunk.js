(this["webpackJsonpmovie-site"]=this["webpackJsonpmovie-site"]||[]).push([[0],{112:function(e,t,n){},132:function(e,t,n){},178:function(e,t){},196:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(8),a=n.n(c),r=(n(112),n(32)),o=n(6),l=n(42),d=n(23),j=n(7),u=n(91),b=n(21),p=n(54),h="https://api.themoviedb.org/3",m=function(e){return function(t){var n=new URLSearchParams(Object(b.a)(Object(b.a)({},t),{},{api_key:"0ab346b765ddcf3489e15848e91862c8"})).toString();return p.get("".concat(h).concat(e,"?").concat(n)).then((function(e){return e.data}))}},g=m("/movie/popular"),O=m("/genre/movie/list"),x=m("/search/movie"),v=(n(132),n(47)),f=(n(133),function(e,t){switch(t.type){case"ADD_MOVIE_TO_LIST":return Object(b.a)(Object(b.a)({},e),{},{movieList:[t.payload].concat(Object(r.a)(e.movieList))});case"REMOVE_MOVIE":return Object(b.a)(Object(b.a)({},e),{},{movieList:e.movieList.filter((function(e){return e.id!==t.payload}))});case"ADD_COMMENT":return Object(b.a)(Object(b.a)({},e),{},{comments:[].concat(Object(r.a)(e.comments),[t.comment])});default:return e}}),S=n(1),y={movieList:[],comments:[]},C=Object(i.createContext)(y),N=function(e){var t=e.genre,n=s.a.useContext(C),i=n.removeMovie,c=n.movieList;return Object(S.jsx)("div",{className:"wrapper",children:c.map((function(e,n){return Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)("h4",{children:e.title}),Object(S.jsx)("div",{className:"genres",children:e.genre_ids.map((function(e){return Object(S.jsx)("span",{children:t[e]},e)}))}),Object(S.jsxs)("div",{className:"image",children:[e.poster_path?Object(S.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+e.poster_path,alt:"poster"}):Object(S.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"}),Object(S.jsx)("button",{onClick:function(){return i(e.id)},className:"removeButton",children:"Remove"})]})]},n)}))})},T=function(e){var t=e.movies,n=e.genre,i=s.a.useState([]),c=Object(o.a)(i,2),a=c[0],r=c[1],l=Object(j.f)().id,d=s.a.useContext(C),u=d.addMovieToList,b=!!d.movieList.find((function(e){return e.id===+l}));return s.a.useEffect((function(){window.scrollTo(0,0),function(e){return p.get("".concat(h,"/movie/").concat(e,"/recommendations?api_key=0ab346b765ddcf3489e15848e91862c8&language=en-US&page=1")).then((function(e){return e.data}))}(l).then((function(e){r(e.results)}))}),[l]),Object(S.jsxs)(S.Fragment,{children:[t.filter((function(e){return e.id===+l})).map((function(e,t){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{style:{textAlign:"center",margin:"50px 0"},children:e.title}),Object(S.jsxs)("div",{className:"infoWrapper",children:[Object(S.jsxs)("div",{className:"infoImage",children:[e.poster_path?Object(S.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+e.poster_path,alt:"poster"}):Object(S.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"}),Object(S.jsx)("button",{disabled:b,onClick:function(){return u(e)},children:b?"Added":"Add"})]}),Object(S.jsxs)("div",{className:"infoDetails",children:[Object(S.jsxs)("span",{className:"release",children:[Object(S.jsx)("b",{children:"Release at : "}),e.release_date]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("span",{style:{display:"flex",flexWrap:"wrap"},children:[Object(S.jsx)("b",{children:"Genre : "}),e.genre_ids.map((function(e){return Object(S.jsx)("span",{style:{marginLeft:"10px"},children:n[e]},e)}))]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("span",{children:[Object(S.jsx)("b",{children:"Description : "}),e.overview]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("span",{children:[Object(S.jsx)("b",{children:"Rating : "}),e.vote_average]})]})]})]},t)})),Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{style:{textAlign:"center",margin:"200px 0 100px"},children:"Recommendation movies"}),Object(S.jsx)("div",{className:"wrapper",children:a.map((function(e,t){return Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)("h4",{children:e.title}),Object(S.jsx)("span",{className:"genres",children:e.genre_ids.map((function(e){return Object(S.jsx)("span",{style:{marginLeft:"10px"},children:n[e]},e)}))}),Object(S.jsx)("div",{children:e.poster_path?Object(S.jsx)("img",{style:{width:"98%",height:"310px",padding:"3px"},src:"https://image.tmdb.org/t/p/w300"+e.poster_path,alt:"poster"}):Object(S.jsx)("img",{style:{width:"98%",height:"310px",padding:"3px"},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"})})]},t)}))})]})]})},_=function(){return Object(S.jsx)("div",{className:"headerBackground",children:Object(S.jsxs)("div",{className:"wrapper",children:[Object(S.jsx)("div",{className:"link",children:Object(S.jsx)(d.b,{to:"/",children:"Luco TV"})}),Object(S.jsx)("div",{className:"link",children:Object(S.jsx)(d.b,{to:"/added",children:"Added Movies"})}),Object(S.jsx)("div",{className:"link",children:Object(S.jsx)(d.b,{to:"/infiniteScroll",children:"InfiniteScroll"})})]})})},L=n(219),A=n(218),P=n(216),w=n(220),k=n(222),M=Object(P.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1),width:"50%"},avatar:{width:"200px",height:"200px"},description:{padding:"20px"}}})),q=function(e){var t=e.title,n=e.id,c=e.img,a=e.genre,r=e.movies,l=e.genre_ids,j=e.description,u=M(),b=s.a.useState(null),p=Object(o.a)(b,2),h=p[0],m=p[1],g=function(){m(null)},O=Boolean(h),x=Object(i.useContext)(C),v=x.addMovieToList,f=!!x.movieList.find((function(e){return e.id===r.id}));return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"card",children:[Object(S.jsxs)(w.a,{"aria-owns":O?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){m(e.currentTarget)},onMouseLeave:g,children:[Object(S.jsx)("h4",{children:t}),Object(S.jsx)("div",{className:"genres",children:l.map((function(e){return Object(S.jsx)("span",{children:a[e]},e)}))}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"image",children:c?Object(S.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+c,alt:"poster"}):Object(S.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"})}),Object(S.jsxs)("div",{className:"cardButtons",children:[Object(S.jsx)("button",{disabled:f,onClick:function(){return v(r)},children:f?"Added":"Add"}),Object(S.jsx)(d.b,{to:"/info/".concat(n),children:"Info"})]})]})]}),Object(S.jsx)(L.a,{id:"mouse-over-popover",className:u.popover,classes:{paper:u.paper},open:O,anchorEl:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:g,disableRestoreFocus:!0,children:Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)(k.a,{variant:"square",className:u.avatar,alt:"Remy Sharp",src:c?"https://image.tmdb.org/t/p/w200".concat(c):"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU"}),Object(S.jsx)("dfn",{children:Object(S.jsx)(A.a,{className:u.description,children:j})})]})})]})})},I=function(e){var t=e.query,n=e.onChange,i=e.nextPage,s=e.prevPage,c=e.setChangeCardsPositionState;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("button",{onClick:function(){return c((function(e){return!e}))},className:"changeCardPosition",children:"Change cards position"}),Object(S.jsxs)("div",{className:"controlPanel",children:[Object(S.jsx)("button",{onClick:s,children:"Prev Page"}),Object(S.jsx)("input",{placeholder:"  Search...",value:t,type:"text",onChange:n}),Object(S.jsx)("button",{onClick:i,children:"Next Page"})]})]})},E=n(221),F=n(96),D=n(97),V=n.n(D);var B=function(e){var t=e.value,n=e.handleOnChange,i=e.onCommentSubmit;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{onSubmit:i,children:[Object(S.jsx)("div",{children:Object(S.jsx)(F.CKEditor,{editor:V.a,onChange:n,data:t})}),Object(S.jsx)("button",{className:"removeButton",children:"Post"})]})})},R=Object(P.a)((function(e){return{typography:{padding:e.spacing(2)},button:{background:"black",color:"white"}}})),G=function(e){var t=e.value,n=e.setValue,i=e.handleOnChange,c=e.onCommentSubmit,a=R(),r=s.a.useState(null),l=Object(o.a)(r,2),d=l[0],j=l[1],u=Boolean(d),b=u?"simple-popover":void 0;return Object(S.jsxs)("div",{children:[Object(S.jsx)(E.a,{"aria-describedby":b,className:a.button,onClick:function(e){j(e.currentTarget)},children:"Open Popover"}),Object(S.jsx)(L.a,{id:b,open:u,anchorEl:d,onClose:function(){j(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(S.jsx)(B,{onCommentSubmit:c,handleOnChange:i,value:t,setValue:n})})]})},J=n(98),U=n.n(J),Z=function(e){var t=e.movies,n=e.genre,i=s.a.useState(""),c=Object(o.a)(i,2),a=c[0],r=c[1],l=s.a.useState([]),d=Object(o.a)(l,1)[0],j=s.a.useContext(C),u=j.addMovieToList,b=!!j.movieList.find((function(e){return e.id===t.id}));return Object(S.jsxs)("div",{style:{height:"auto",padding:"10px",margin:"auto"},children:[Object(S.jsx)("h1",{style:{textAlign:"center",margin:"50px 0"},children:t.title}),Object(S.jsxs)("div",{className:"infoWrapper",children:[Object(S.jsxs)("div",{className:"infoImage",children:[t.poster_path?Object(S.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+t.poster_path,alt:"poster"}):Object(S.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"}),Object(S.jsx)("button",{disabled:b,onClick:function(){return u(t)},children:b?"Added":"Add"})]}),Object(S.jsxs)("div",{className:"infoDetails",children:[Object(S.jsxs)("span",{className:"release",children:[Object(S.jsx)("b",{children:"Release at : "}),t.release_date]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("span",{style:{display:"flex",flexWrap:"wrap"},children:[Object(S.jsx)("b",{children:"Genre : "}),t.genre_ids.map((function(e,t){return Object(S.jsx)("span",{style:{marginLeft:"10px"},children:n[e]},t)}))]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("span",{children:[Object(S.jsx)("b",{children:"Description : "}),t.overview]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("span",{children:[Object(S.jsx)("b",{children:"Rating : "}),t.vote_average]}),Object(S.jsx)("div",{style:{height:"100%"},children:d.map((function(e,t){return Object(S.jsx)("div",{className:"commentStyle",children:e},t)}))}),Object(S.jsx)("div",{children:Object(S.jsx)(G,{value:a,setValue:r,handleOnChange:function(e,t){var n=t.getData();r(n)},onCommentSubmit:function(){d.push(U()(a)),r("")}})})]})]})]})},W=function(e){var t=e.movies,n=e.genre,i=e.query,c=e.onChange,a=e.nextPage,r=e.prevPage,o=e.movieIsAdded,l=e.setChangeCardsPositionState,d=e.changeCardsPositionState;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(I,{setChangeCardsPositionState:l,prevPage:r,nextPage:a,query:i,onChange:c}),Object(S.jsx)("div",{className:"wrapper",children:t.map((function(e,t){return Object(S.jsx)(s.a.Fragment,{children:d?Object(S.jsx)("div",{style:{height:"100%"},children:Object(S.jsx)(Z,{movies:e,genre:n},t)}):Object(S.jsx)(q,{description:e.overview,movieIsAdded:o,id:e.id,title:e.title,img:e.poster_path,genre:n,movies:e,genre_ids:e.genre_ids},e.id)},t)}))})]})};var z=function(e){var t=e.img,n=e.name;return Object(S.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(S.jsx)("h2",{style:{paddingRight:"10px"},children:n}),Object(S.jsx)("img",{style:{borderRadius:"50%",width:"50px"},src:t,alt:"UserAvatar"})]})},H=n(99);var K=function(e){e.id;var t=e.title,n=e.img,i=e.description,s=e.changePosition;return e.movies,Object(S.jsxs)("div",{className:s?"cardToRow":"card",children:[Object(S.jsxs)("div",{className:s?"cardTitleAndDescriptionHorizontalPosition":null,children:[Object(S.jsx)("h4",{children:t}),Object(S.jsx)("p",{children:i}),Object(S.jsx)("div",{})]}),Object(S.jsx)("div",{className:"image",children:n?Object(S.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+n,alt:"poster"}):Object(S.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"})}),Object(S.jsx)("div",{})]})};var Q=function(e){var t=e.movies,n=e.infiniteScrollData,i=s.a.useState(!1),c=Object(o.a)(i,2),a=c[0],r=c[1];return console.log(t),Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(){return r((function(e){return!e}))},className:"changeCardPosition",children:"Change cards position"}),Object(S.jsx)("div",{children:Object(S.jsx)(H.a,{style:{display:"flex",maxWidth:"1050px",margin:"0 auto",flexWrap:"wrap"},dataLength:t.length,next:function(){return n()},scrollThreshold:1,hasMore:!0,children:t.map((function(e,n){return Object(S.jsx)(K,{changePosition:a,title:e.title,img:e.poster_path,description:e.overview,movies:t,id:e.id},n)}))})})]})},X={movieList:localStorage.getItem("movieList")?JSON.parse(localStorage.getItem("movieList")):[],comments:[]};v.a.configure();var Y=function(){var e=s.a.useState([]),t=Object(o.a)(e,2),n=t[0],i=t[1],c=s.a.useState(null),a=Object(o.a)(c,2),b=a[0],p=a[1],h=s.a.useState(1),m=Object(o.a)(h,2),y=m[0],L=m[1],A=s.a.useState(""),P=Object(o.a)(A,2),w=P[0],k=P[1],M=s.a.useState([]),q=Object(o.a)(M,2),I=q[0],E=q[1],F=s.a.useState(""),D=Object(o.a)(F,2),V=D[0],B=D[1],R=s.a.useState(""),G=Object(o.a)(R,2),J=G[0],U=G[1],Z=s.a.useState(!1),H=Object(o.a)(Z,2),K=H[0],Y=H[1],$=s.a.useState(!1),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ie=s.a.useReducer(f,X),se=Object(o.a)(ie,2),ce=se[0],ae=se[1];s.a.useEffect((function(){localStorage.setItem("movieList",JSON.stringify(ce.movieList))}),[ce]);s.a.useEffect((function(){g().then((function(e){i(e.results),p(e.total_pages),console.log(e)})),O().then((function(e){E(Object.fromEntries(e.genres.map((function(e){return[e.id,e.name]}))))}))}),[]);var re=s.a.useMemo((function(){return Object(u.debounce)((function(e,t){e.length>0?x({query:e,pageNumber:t}).then((function(e){i(e.results),p(e.total_pages)})):g({pageNumber:t}).then((function(e){i(e.results),p(e.total_pages)}))}),300)}),[]),oe=function(e){console.log(e),B(e.profileObj.name),U(e.profileObj.imageUrl),Y(!0)};return Object(S.jsxs)(C.Provider,{value:{movieList:ce.movieList,added:ce.added,comments:ce.comments,addComment:function(e){ae({type:"ADD_COMMENT",comment:e})},addMovieToList:function(e){ae({type:"ADD_MOVIE_TO_LIST",payload:e}),v.a.success("The movie is added",{autoClose:2e3})},removeMovie:function(e){ae({type:"REMOVE_MOVIE",payload:e}),v.a.error("The movie is removed",{autoClose:2e3})}},children:[Object(S.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(S.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"15%"},children:[Object(S.jsx)(l.GoogleLogin,{clientId:"207215828927-45a8gop4ba2c0hcm0vhrbndrkvqcfs6t.apps.googleusercontent.com",buttonText:V?"Signed in":"Sign in",onSuccess:oe,onFailure:oe,cookiePolicy:"single_host_origin",isSignedIn:!0}),Object(S.jsx)(l.GoogleLogout,{clientId:"207215828927-45a8gop4ba2c0hcm0vhrbndrkvqcfs6t.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){B(""),U(""),Y(!1)},isSignedIn:!1})]}),K&&Object(S.jsx)(z,{img:J,name:V})]}),Object(S.jsxs)(d.a,{children:[Object(S.jsx)(_,{}),Object(S.jsxs)(j.c,{children:[Object(S.jsx)(j.a,{exact:!0,path:"/",children:Object(S.jsx)(W,{setChangeCardsPositionState:ne,movies:n,genre:I,prevPage:function(){w.length>0&&y>1?(L(y-1),x({page:y-1,query:w}).then((function(e){i(e.results),p(e.total_pages)}))):0===w.length&&y>1&&(L(y-1),g({page:y-1,query:w}).then((function(e){i(e.results),p(e.total_pages)})))},nextPage:function(){w.length>0&&y<b?(L(y+1),x({page:y+1,query:w}).then((function(e){i(e.results),p(e.total_pages)}))):0===w.length&&y<b&&(L(y+1),g({page:y+1,query:w}).then((function(e){i(e.results),p(e.total_pages)})))},query:w,onChange:function(e){e.preventDefault(),re(e.target.value,y),k(e.target.value)},movieIsAdded:function(){},changeCardsPositionState:te})}),Object(S.jsx)(j.a,{path:"/added",children:Object(S.jsx)(N,{genre:I})}),Object(S.jsx)(j.a,{path:"/info/:id",children:Object(S.jsx)(T,{movies:n,genre:I})}),Object(S.jsx)(j.a,{path:"/infiniteScroll",children:Object(S.jsx)(Q,{movies:n,totalPages:b,pageNumber:y,infiniteScrollData:function(){console.log("hello world"),L(y+1),g({page:y,query:w}).then((function(e){i([].concat(Object(r.a)(n),Object(r.a)(e.results))),p(e.total_pages)}))}})})]})]})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),c(e),a(e)}))};a.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(Y,{})}),document.getElementById("root")),$()}},[[196,1,2]]]);
//# sourceMappingURL=main.ffe5fd92.chunk.js.map