(this["webpackJsonpmovie-site"]=this["webpackJsonpmovie-site"]||[]).push([[0],{39:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(31),a=n.n(i),r=(n(39),n(4)),o=n(15),d=n(9),j=n(2),l=n(32),u=n(10),b=n(18),p="https://api.themoviedb.org/3",g=function(e){return function(t){var n=new URLSearchParams(Object(u.a)(Object(u.a)({},t),{},{api_key:"0ab346b765ddcf3489e15848e91862c8"})).toString();return b.get("".concat(p).concat(e,"?").concat(n)).then((function(e){return e.data}))}},h=g("/movie/popular"),m=g("/genre/movie/list"),O=g("/search/movie"),x=(n(59),n(34)),v=function(e,t){switch(t.type){case"ADD_MOVIE_TO_LIST":return Object(u.a)(Object(u.a)({},e),{},{movieList:[t.payload].concat(Object(x.a)(e.movieList))});case"REMOVE_MOVIE":return Object(u.a)(Object(u.a)({},e),{},{movieList:e.movieList.filter((function(e){return e.id!==t.payload}))});default:return e}},f=n(0),y={movieList:[]},S=Object(c.createContext)(y),N=function(e){var t=e.genre,n=s.a.useContext(S),c=n.removeMovie,i=n.movieList;return Object(f.jsx)("div",{className:"wrapper",children:i.map((function(e,n){return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h4",{children:e.title}),Object(f.jsx)("div",{className:"genres",children:e.genre_ids.map((function(e){return Object(f.jsx)("span",{children:t[e]},e)}))}),Object(f.jsxs)("div",{className:"image",children:[e.poster_path?Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+e.poster_path,alt:"poster"}):Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"}),Object(f.jsx)("button",{onClick:function(){return c(e.id)},className:"removeButton",children:"Remove"})]})]},n)}))})},L=function(e){var t=e.movies,n=e.genre,c=s.a.useState([]),i=Object(r.a)(c,2),a=i[0],o=i[1],d=Object(j.f)().id,l=s.a.useContext(S),u=l.addMovieToList,g=!!l.movieList.find((function(e){return e.id===+d}));return s.a.useEffect((function(){window.scrollTo(0,0),function(e){return b.get("".concat(p,"/movie/").concat(e,"/recommendations?api_key=0ab346b765ddcf3489e15848e91862c8&language=en-US&page=1")).then((function(e){return e.data}))}(d).then((function(e){o(e.results)}))}),[d]),Object(f.jsxs)(f.Fragment,{children:[t.filter((function(e){return e.id===+d})).map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{style:{textAlign:"center",margin:"50px 0"},children:e.title}),Object(f.jsxs)("div",{className:"infoWrapper",children:[Object(f.jsxs)("div",{className:"infoImage",children:[e.poster_path?Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+e.poster_path,alt:"poster"}):Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"}),Object(f.jsx)("button",{disabled:g,onClick:function(){return u(e)},children:g?"Added":"Add"})]}),Object(f.jsxs)("div",{className:"infoDetails",children:[Object(f.jsxs)("span",{className:"release",children:[Object(f.jsx)("b",{children:"Release at : "}),e.release_date]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("span",{style:{display:"flex",flexWrap:"wrap"},children:[Object(f.jsx)("b",{children:"Genre : "}),e.genre_ids.map((function(e){return Object(f.jsx)("span",{style:{marginLeft:"10px"},children:n[e]},e)}))]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"Description : "}),e.overview]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"Rating : "}),e.vote_average]})]})]})]},t)})),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{style:{textAlign:"center",margin:"200px 0 100px"},children:"Recommendation movies"}),Object(f.jsx)("div",{className:"wrapper",children:a.map((function(e,t){return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h4",{children:e.title}),Object(f.jsx)("span",{className:"genres",children:e.genre_ids.map((function(e){return Object(f.jsx)("span",{style:{marginLeft:"10px"},children:n[e]},e)}))}),Object(f.jsx)("div",{children:e.poster_path?Object(f.jsx)("img",{style:{width:"98%",height:"310px",padding:"3px"},src:"https://image.tmdb.org/t/p/w300"+e.poster_path,alt:"poster"}):Object(f.jsx)("img",{style:{width:"98%",height:"310px",padding:"3px"},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"})})]},t)}))})]})]})},_=function(){return Object(f.jsx)("div",{className:"headerBackground",children:Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)("div",{className:"link",children:Object(f.jsx)(d.b,{to:"/",children:"Luco TV"})}),Object(f.jsx)("div",{className:"link",children:Object(f.jsx)(d.b,{to:"/added",children:"Added Movies"})})]})})},T=function(e){var t=e.title,n=e.id,s=e.img,i=e.genre,a=e.movies,r=e.genre_ids,o=Object(c.useContext)(S),j=o.addMovieToList,l=!!o.movieList.find((function(e){return e.id===a.id}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h4",{children:t}),Object(f.jsx)("div",{className:"genres",children:r.map((function(e){return Object(f.jsx)("span",{children:i[e]},e)}))}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"image",children:s?Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+s,alt:"poster"}):Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSS77eBijOyeLSZcsTopPrTvkMjTJVNpF44iA&usqp=CAU",alt:"poster"})}),Object(f.jsxs)("div",{className:"cardButtons",children:[Object(f.jsx)("button",{disabled:l,onClick:function(){return j(a)},children:l?"Added":"Add"}),Object(f.jsx)(d.b,{to:"/info/".concat(n),children:"Info"})]})]})]})})},C=function(e){var t=e.query,n=e.onChange,c=e.nextPage,s=e.prevPage;return Object(f.jsxs)("div",{className:"controlPanel",children:[Object(f.jsx)("button",{onClick:s,children:"Prev Page"}),Object(f.jsx)("input",{placeholder:"  Search...",value:t,type:"text",onChange:n}),Object(f.jsx)("button",{onClick:c,children:"Next Page"})]})},A=function(e){var t=e.movies,n=e.genre,c=e.query,s=e.onChange,i=e.nextPage,a=e.prevPage;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(C,{prevPage:a,nextPage:i,query:c,onChange:s}),Object(f.jsx)("div",{className:"wrapper",children:t.map((function(e){return Object(f.jsx)(T,{id:e.id,title:e.title,img:e.poster_path,genre:n,movies:e,genre_ids:e.genre_ids},e.id)}))})]})};var w=function(e){var t=e.img,n=e.name;return Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)("h2",{style:{paddingRight:"10px"},children:n}),Object(f.jsx)("img",{style:{borderRadius:"50%",width:"50px"},src:t,alt:"UserAvatar"})]})},P={movieList:localStorage.getItem("movieList")?JSON.parse(localStorage.getItem("movieList")):[]},k=function(){var e=s.a.useState([]),t=Object(r.a)(e,2),n=t[0],c=t[1],i=s.a.useState(null),a=Object(r.a)(i,2),u=a[0],b=a[1],p=s.a.useState(1),g=Object(r.a)(p,2),x=g[0],y=g[1],T=s.a.useState(""),C=Object(r.a)(T,2),k=C[0],q=C[1],I=s.a.useState([]),M=Object(r.a)(I,2),E=M[0],F=M[1],V=s.a.useState(""),R=Object(r.a)(V,2),B=R[0],D=R[1],J=s.a.useState(""),U=Object(r.a)(J,2),G=U[0],Z=U[1],W=s.a.useState(!1),z=Object(r.a)(W,2),H=z[0],K=z[1],Q=s.a.useReducer(v,P),X=Object(r.a)(Q,2),Y=X[0],$=X[1];s.a.useEffect((function(){localStorage.setItem("movieList",JSON.stringify(Y.movieList))}),[Y]);s.a.useEffect((function(){h().then((function(e){c(e.results),b(e.total_pages)})),m().then((function(e){F(Object.fromEntries(e.genres.map((function(e){return[e.id,e.name]}))))}))}),[]);var ee=s.a.useMemo((function(){return Object(l.debounce)((function(e,t){e.length>0?O({query:e,pageNumber:t}).then((function(e){c(e.results),b(e.total_pages)})):h({pageNumber:t}).then((function(e){c(e.results),b(e.total_pages)}))}),300)}),[]),te=function(e){console.log(e),D(e.profileObj.name),Z(e.profileObj.imageUrl),K(!0)};return Object(f.jsxs)(S.Provider,{value:{movieList:Y.movieList,added:Y.added,addMovieToList:function(e){$({type:"ADD_MOVIE_TO_LIST",payload:e})},removeMovie:function(e){$({type:"REMOVE_MOVIE",payload:e})}},children:[Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"15%"},children:[Object(f.jsx)(o.GoogleLogin,{clientId:"207215828927-45a8gop4ba2c0hcm0vhrbndrkvqcfs6t.apps.googleusercontent.com",buttonText:B?"Signed in":"Sign in",onSuccess:te,onFailure:te,cookiePolicy:"single_host_origin",isSignedIn:!0}),Object(f.jsx)(o.GoogleLogout,{clientId:"207215828927-45a8gop4ba2c0hcm0vhrbndrkvqcfs6t.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){D(""),Z(""),K(!1)},isSignedIn:!1})]}),H&&Object(f.jsx)(w,{img:G,name:B})]}),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(_,{}),Object(f.jsxs)(j.c,{children:[Object(f.jsx)(j.a,{exact:!0,path:"/",children:Object(f.jsx)(A,{movies:n,genre:E,prevPage:function(){k.length>0&&x>1?(y(x-1),O({page:x-1,query:k}).then((function(e){c(e.results),b(e.total_pages)}))):0===k.length&&x>1&&(y(x-1),h({page:x-1,query:k}).then((function(e){c(e.results),b(e.total_pages)})))},nextPage:function(){k.length>0&&x<u?(y(x+1),O({page:x+1,query:k}).then((function(e){c(e.results),b(e.total_pages)}))):0===k.length&&x<u&&(y(x+1),h({page:x+1,query:k}).then((function(e){c(e.results),b(e.total_pages)})))},query:k,onChange:function(e){e.preventDefault(),ee(e.target.value,x),q(e.target.value)}})}),Object(f.jsx)(j.a,{path:"/added",children:Object(f.jsx)(N,{genre:E})}),Object(f.jsx)(j.a,{path:"/info/:id",children:Object(f.jsx)(L,{movies:n,genre:E})})]})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root")),q()}},[[65,1,2]]]);
//# sourceMappingURL=main.6dfaef33.chunk.js.map